<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width">
	<title>Documentation Module: vulcanval</title>

	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link type="text/css" rel="stylesheet" href="styles/sunlight.default.css">

	<link type="text/css" rel="stylesheet" href="styles/site.simplex.css">

</head>

<body>

<div class="navbar navbar-default navbar-fixed-top ">
<div class="container">
	<div class="navbar-header">
		<a class="navbar-brand" href="index.html">Documentation</a>
		<button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#topNavigation">
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
        </button>
	</div>
	<div class="navbar-collapse collapse" id="topNavigation">
		<ul class="nav navbar-nav">
			
			<li class="dropdown">
				<a href="namespaces.list.html" class="dropdown-toggle" data-toggle="dropdown">Namespaces<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="fieldsetSettings.html">fieldsetSettings</a></li><li><a href="fieldSettings.html">fieldSettings</a></li><li><a href="map.html">map</a></li><li><a href="settings.html">settings</a></li><li><a href="settings.validators.html">settings.validators</a></li><li><a href="utilityContext.html">utilityContext</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="modules.list.html" class="dropdown-toggle" data-toggle="dropdown">Modules<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="module-vulcanval.html">vulcanval</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="tutorials.list.html" class="dropdown-toggle" data-toggle="dropdown">Tutorials<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="tutorial-getting-started.html">Getting started</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="global.html" class="dropdown-toggle" data-toggle="dropdown">Global<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="global.html#vulcanvalProto">vulcanvalProto</a></li>
				</ul>
			</li>
			
			<li class="dropdown">
				<a href="externals.list.html" class="dropdown-toggle" data-toggle="dropdown">Externals<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="external-_jQuery.fn_.html">jQuery.fn</a></li><li><a href="external-jQuery.html">jQuery</a></li><li><a href="external-window.html">window</a></li>
				</ul>
			</li>
			
		</ul>
		<div class="col-sm-3 col-md-3">
            <form class="navbar-form" role="search">
                <div class="input-group">
                    <input type="text" class="form-control" placeholder="Search" name="q" id="search-input">
                    <div class="input-group-btn">
                        <button class="btn btn-default" id="search-submit"><i class="glyphicon glyphicon-search"></i></button>
                    </div>
                </div>
            </form>
        </div>
	</div>

</div>
</div>


<div class="container" id="toc-content">
<div class="row">

	
	<div class="col-md-8">
	
		<div id="main">
			

	<h1 class="page-title">Module: vulcanval</h1>
<section>

<header>
    
</header>


<article>
    <div class="container-overview">
    
        
            <div class="description"><p>The vulcan validator (vulcanval) object.</p>
<p>This module exposes some static methods to validate data maps extracted maybe
extracted from client-side form elements. The data maps are simple plain JavaScript
objects with each element name and value in form. The validations configurations
are extended from the <a href="settings.html">settings</a>.</p>
<p>In Node.js environments use like:</p>
<pre class="prettyprint source lang-js"><code>const vulcanval = require('vulcanval');</code></pre><p>In browser environments this object is available in <a href="external-window.html#.vulcanval">window.vulcanval</a>.</p></div>
        

        
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


        
    
    </div>

    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        <dl>
            
<hr>
<dt>
    <h4 class="name" id=".cleanMap"><span class="type-signature">&lt;static> </span>cleanMap(isPlain, map)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Clean a map from properties outside the validation process.</p>
<p>This is done by removing all properties which are not present in the fields
list of validation and the fields which are disabled or intented to be
only used in client side.</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>isPlain</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>



            
            </td>

            

            

            <td class="description last"><p>If the <a href="map.html">map</a> is plain. <code>false</code> for nested.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>map</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="map.html">map</a></span>



            
            </td>

            

            

            <td class="description last"><p>The map to clean.</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <ul>
<li>The cleaned map.</li>
</ul>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="map.html">map</a></span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id=".convertMapTo"><span class="type-signature">&lt;static> </span>convertMapTo(to, map)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Convert a map from nested to plain and viceversa.</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>to</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>



            
            </td>

            

            

            <td class="description last"><p>It can have two values: <code>plain</code> or <code>nested</code>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>map</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="map.html">map</a></span>



            
            </td>

            

            

            <td class="description last"><p>The object to convert.</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <p>The converted object.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>



    </dd>
</dl>


        

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id=".module.exports"><span class="type-signature">&lt;static> </span>module.exports(name, validator)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Add a custom validator.</p>
<p>All validators in the package <a href="https://www.npmjs.com/package/validator">validator</a>
are installed and ready to use.</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>name</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>



            
            </td>

            

            

            <td class="description last"><p>An alphanumeric validator name.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>validator</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>



            
            </td>

            

            

            <td class="description last"><p>The validator function. Receives as a first parameter
the value of the field and has to return a
<a href="https://developer.mozilla.org/en-US/docs/Glossary/Truthy">truthy value</a>.
This function will have the <a href="utilityContext.html">utility context</a> as
function context. Don't pass
<a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Functions/Arrow_functions">arrow functions</a>
or it won't be available.</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	
	<dt class="tag-see method-doc-label method-doc-details-label">See:</dt>
	<dd class="tag-see">
		<ul>
			<li>In the example is used the <a href="module-vulcanval.html#.validateField">vulcanval.validateField</a>
static method to test the new validator.</li>
			</ul>
	</dd>
	

	
</dl>


    

    

    

    

    

    

    
        <h5>Example</h5>
        
    <pre class="sunlight-highlight-javascript">vulcanval.addValidator(&#x27;isGreat&#x27;, function (value) {
  return value.length &gt; 4 &amp;&amp; value.indexOf(&#x27;great&#x27;) &gt;= 0;
});

const map = {
  field0: &#x27;normal value&#x27;
};

const settings = {
  msgs: {
    isGreat: &#x27;This field needs to be great!&#x27;
  },
  fields: [{
    name: &#x27;field0&#x27;,
    validators: {
      isGreat: true
    }
  }]
};

const field0Valid = vulcanval.validateField(&#x27;field0&#x27;, map, settings);
console.log(field0Valid); // &#x27;This field needs to be great!&#x27;</pre>


    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id=".module.exports"><span class="type-signature">&lt;static> </span>module.exports(locale)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Extend validators messages in an specific localization. If it does not exist,
it will be created.</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>locale</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>A plain object describing the locale.</p>
                <h6 class="method-params-label method-subparams-label">Properties</h6>
                

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>id</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>



            
            </td>

            

            

            <td class="description last"><p>The identifier of the locale. It should be like:
<code>'en'</code>, <code>'es'</code>, <code>'jp'</code> or similar.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>msgs</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>



            
            </td>

            

            

            <td class="description last"><p>A plain object with validators names as keys
and messages formats as values. It should have a default value with the key
<code>general</code>, which will be used when there is no message for an specific validator
on error.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    

    
        <h5>Example</h5>
        
    <pre class="sunlight-highlight-javascript">const locale = {
  id: &#x27;jp&#x27;,
  msgs: {

    // Default error message: &quot;Invalid form field error&quot;.
    general: &#x27;無効なフォームフィールド。&#x27;,

    // Message: &quot;Form field has to be alphanumeric error message.&quot;
    isAlphanumeric: &#x27;フォームフィールドは、英数字である必要があります。&#x27;
  }
};

vulcanval.extendLocale(locale);</pre>


    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id=".validateField"><span class="type-signature">&lt;static> </span>validateField(fieldName, map)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Validate a field in provided data <a href="map.html">map</a> using the provided validation <a href="settings.html">settings</a>.</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>fieldName</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>



            
            </td>

            

            

            <td class="description last"><p>The field name in data map. If the <a href="map.html">map</a> is nested,
the field name is set as in plain map. Ex: <code>{user: {name: 'romel'}}</code> will be <code>'user.name'</code>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>map</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="map.html">map</a></span>



            
            </td>

            

            

            <td class="description last"><p>The data map (plain or nested).</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <p>If it is valid, <code>false</code> will be returned. Otherwise
there will be an string message describing the error.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Boolean</span>
|

<span class="param-type">String</span>



    </dd>
</dl>


        

    
        <h5>Example</h5>
        
    <pre class="sunlight-highlight-javascript">const map = {
  name: &#x27;Romel&#x27;,
  age: 22,
  likesPumpkin: false
};

const settings = {
  fields: [{
    name: &#x27;name&#x27;,
    required: true,
    validators: {
      isAlphanumeric: &#x27;en-US&#x27;,
      isLowercase: true
    }
  }, {
    name: &#x27;age&#x27;,
    validators: {
      isInt: { min: 1, max: 500 }
    }
  }]
};

const nameResult = vulcanval.validateField(&#x27;name&#x27;, map, settings);
console.log(nameResult); // &#x27;This field should only contain lowercase text.&#x27;

const ageResult = vulcanval.validateField(&#x27;age&#x27;, map, settings);
console.log(ageResult); // false</pre>


    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id=".validateFieldset"><span class="type-signature">&lt;static> </span>validateFieldset()</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Validate all fields in a fieldset.</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id=".validateMap"><span class="type-signature">&lt;static> </span>validateMap(map, settings)</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>Validate provided data map using the provided validation settings and get an
object describing each field error if there are.</p>
    </div>
    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>map</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="map.html">map</a></span>



            
            </td>

            

            

            <td class="description last"><p>The data map.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>settings</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="settings.html">settings</a></span>



            
            </td>

            

            

            <td class="description last"><p>The validation settings.</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <p>If the map is valid, <code>false</code> will be returned. Otherwise
there will be an object describing each field error as a plain map with its
keys as the fields names even if the property settings.enableNestedMaps
is enabled. Use the vulcanval.convertMapTo method if needed.</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Boolean</span>
|

<span class="param-type">Object</span>



    </dd>
</dl>


        

    
        <h5>Example</h5>
        
    <pre class="sunlight-highlight-javascript">const map = {
  name: &#x27;Romel&#x27;,
  age: 22,
  likesPumpkin: false
};

const settings = {
  fields: [{
    name: &#x27;name&#x27;,
    required: true,
    validators: {
      isAlphanumeric: &#x27;en-US&#x27;,
      isLowercase: true
    }
  }, {
    name: &#x27;age&#x27;,
    validators: {
      isInt: { min: 1, max: 500 }
    }
  }, {
    name: &#x27;likesPumpkin&#x27;,
    required: true
  }]
};

const result = vulcanval.validateMap(map, settings);
console.log(result);
// {
//   name: &#x27;This field should only contain lowercase text.&#x27;,
//   likesPumpkin: &#x27;Please fill out this field.&#x27;
// }

map.name = &#x27;romel&#x27;;
map.likesPumpkin = true;
const result2 = vulcanval.validateMap(map, settings);
console.log(result2);
// false</pre>


    
</dd>

        </dl>
    

    

    
</article>

</section>




		</div>
	</div>

	<div class="clearfix"></div>

	
		<div class="col-md-3">
			<div id="toc" class="col-md-3 hidden-xs hidden-sm hidden-md"></div>
		</div>
	

</div>
</div>

<div class="modal fade" id="searchResults">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title">Search results</h4>
      </div>
      <div class="modal-body"></div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div>

<footer>


<span class="jsdoc-message">
	Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a>
	
		on 2016-07-11T15:48:11-05:00
	
	using the <a href="https://github.com/docstrap/docstrap">DocStrap template</a>.
</span>
</footer>

<script src="scripts/docstrap.lib.js"></script>
<script src="scripts/toc.js"></script>
<script type="text/javascript" src="scripts/fulltext-search-ui.js"></script>

<script>
$( function () {
	$( "[id*='$']" ).each( function () {
		var $this = $( this );

		$this.attr( "id", $this.attr( "id" ).replace( "$", "__" ) );
	} );

	$( ".tutorial-section pre, .readme-section pre" ).each( function () {
		var $this = $( this );

		var example = $this.find( "code" );
		exampleText = example.html();
		var lang = /{@lang (.*?)}/.exec( exampleText );
		if ( lang && lang[1] ) {
			exampleText = exampleText.replace( lang[0], "" );
			example.html( exampleText );
			lang = lang[1];
		} else {
			var langClassMatch = example.parent()[0].className.match(/lang\-(\S+)/);
			lang = langClassMatch ? langClassMatch[1] : "javascript";
		}

		if ( lang ) {

			$this
			.addClass( "sunlight-highlight-" + lang )
			.addClass( "linenums" )
			.html( example.html() );

		}
	} );

	Sunlight.highlightAll( {
		lineNumbers : false,
		showMenu : true,
		enableDoclinks : true
	} );

	$.catchAnchorLinks( {
        navbarOffset: 10
	} );
	$( "#toc" ).toc( {
		anchorName  : function ( i, heading, prefix ) {
			var id = $( heading ).attr( "id" );
			return id && id.replace(/\~/g, '-inner-').replace(/\./g, '-static-') || ( prefix + i );
		},
		selectors   : "#toc-content h1,#toc-content h2,#toc-content h3,#toc-content h4",
		showAndHide : false,
		smoothScrolling: true
	} );

	$( "#main span[id^='toc']" ).addClass( "toc-shim" );
	$( '.dropdown-toggle' ).dropdown();

    $( "table" ).each( function () {
      var $this = $( this );
      $this.addClass('table');
    } );

} );
</script>



<!--Navigation and Symbol Display-->


<!--Google Analytics-->


<script type="text/javascript">
	$(document).ready(function() {
		SearcherDisplay.init();
	});
</script>

</body>
</html>